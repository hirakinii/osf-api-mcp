{
  "swagger": "2.0",
  "info": {
    "title": "OSF APIv2 Documentation",
    "description": "This is the official documentation for the OSF (Open Science Framework) API v2. \nIt provides access to the full range of OSF's functionality including project management, file handling, user management, registrations, preprints, and metadata operations.\n\n## Getting Started\nFor detailed information on getting started, authentication, and best practices, visit our [support page](https://osf.io/support).\n\n## API Features\n - RESTful resource-oriented API\n - Supports pagination, filtering, and sparse fieldsets\n - Comprehensive error handling and descriptive error codes\n - OAuth-based authentication and authorization\n",
    "version": "2.0",
    "termsOfService": "https://osf.io/terms_of_use/",
    "contact": {
      "name": "OSF Support Team",
      "email": "support@osf.io",
      "url": "https://help.osf.io/"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "x-logo": {
      "url": "https://cdn.cos.io/media/images/cos_center_logo_small.original.png",
      "backgroundColor": "transparent"
    }
  },
  "host": "api.test.osf.io",
  "schemes": [
    "https"
  ],
  "basePath": "/v2",
  "x-tagGroups": [
    {
      "name": "Welcome",
      "tags": [
        "Introduction",
        "Authentication"
      ]
    },
    {
      "name": "API Reference",
      "tags": [
        "Addons",
        "Base"
      ]
    }
  ],
  "tags": [
    {
      "name": "Introduction",
      "x-traitTag": true,
      "description": "Welcome to the Open Science Framework API. With this API you can access users, projects, components, logs, and files from the [Open Science Framework](https://osf.io/). The Open Science Framework (OSF) is a free, open-source service maintained by the [Center for Open Science](http://cos.io/).\n\nThe OSF serves as a repository and archive for study designs, materials, data, manuscripts, or anything else associated with your research during the research process. Every project and file on the OSF has a permanent unique identifier, and every registration (a permanent, time-stamped version of your projects and files) can be assigned a DOI. You can use the OSF to measure your impact by monitoring the traffic to projects and files you make public. With the OSF you have full control of what parts of your research are public and what remains private."
    },
    {
      "name": "Authentication",
      "x-traitTag": true,
      "description": "#### Token Auth\nTo use a Personal Access Token, make an `Authorization` header with the contents `Bearer <token>` as shown in the example below, replacing `<token>` with your token.\n\n    ```\n    curl -X \"GET\" \"https://api.osf.io/v2/users/me/\" -H \"Authorization: Bearer <token>\"\n    ```\n\nTo make a Personal Access Token, visit your OSF settings page (either on the [OSF](https://osf.io/settings/tokens) or our [testing server](https://test.osf.io/settings/tokens)) to create one. You can limit the scope of the token, but remember that it has access to all of the information that you do within the limits of the scope, so be careful with your tokens.\n#### OAuth\nThe OSF allows third-party web applications to connect to the OSF on behalf of other users via the OAuth 2.0 web application flow.\nYou can add a developer application from the OSF settings page (either on the [OSF](https://osf.io/settings/applications) or our [testing server](https://osf.io/settings/applications)).\nYou can check out the [OAuth SSO Guide](https://github.com/CenterForOpenScience/osf-cas/blob/develop/README_OAUTH_SSO_GUIDE.md) for options."
    },
    {
      "name": "Addons",
      "description": "Addons represent a user connection to an external service, some addons allow for additional storage, some modify user authentication or add a redirect link to a project."
    },
    {
      "name": "Base",
      "description": "This is the \"home page\" of the API you can get important autentication information for the user making the request and get links to other resources."
    }
  ],
  "paths": {
    "/files/{file_id}/": {
      "get": {
        "summary": "Retrieve a file",
        "description": "Retrieves the details of a file (or folder)\n#### Returns\nReturns a JSON object with a `data` key containing the representation of the requested file, if the request was successful.\n\nIf the request is unsuccessful, an `errors` key containing information about the failure will be returned. Refer to the [list of error codes](#tag/Errors-and-Error-Codes) to understand why this request may have failed.\n### Waterbutler API actions\n\nFiles can be modified through the Waterbutler API routes found in `links` (`new_folder`, `move`, `upload`, `download`, and `delete`).\n\n#### Download (files)\n\nTo download a file, issue a GET request against the download link. The response will have the Content-Disposition header set, which will will trigger a download in a browser.\n\n#### Create Subfolder (folders)\n\nYou can create a subfolder of an existing folder by issuing a PUT request against the new_folder link. The ?kind=folder portion of the query parameter is already included in the new_folder link. The name of the new subfolder should be provided in the name query parameter. The response will contain a WaterButler folder entity. If a folder with that name already exists in the parent directory, the server will return a 409 Conflict error response.\n\n#### Upload New File (folders)\n\n\n  To upload a file to a folder, issue a PUT request to the folder's upload link with the raw file data in the request body, and the kind and name query parameters set to 'file' and the desired name of the file. The response will contain a WaterButler file entity that describes the new file. If a file with the same name already exists in the folder, the server will return a 409 Conflict error response.\n\n\n#### Update Existing File (file)\n\nTo update an existing file, issue a PUT request to the file's upload link with the raw file data in the request body and the kind query parameter set to \"file\". The update action will create a new version of the file. The response will contain a WaterButler file entity that describes the updated file.\n\n#### Rename (files, folders)\n\nTo rename a file or folder, issue a POST request to the move link with the action body parameter set to \"rename\" and the rename body parameter set to the desired name. The response will contain either a folder entity or file entity with the new name.\n\n#### Move & Copy (files, folders)\n\nMove and copy actions both use the same request structure, a POST to the move url, but with different values for the action body parameters. The path parameter is also required and should be the OSF path attribute of the folder being written to. The rename and conflict parameters are optional. If you wish to change the name of the file or folder at its destination, set the rename parameter to the new name. The conflict param governs how name clashes are resolved. Possible values are replace and keep. replace is the default and will overwrite the file that already exists in the target folder. keep will attempt to keep both by adding a suffix to the new file's name until it no longer conflicts. The suffix will be ' (x)' where x is a increasing integer starting from 1. This behavior is intended to mimic that of the OS X Finder. The response will contain either a folder entity or file entity with the new name.\nFiles and folders can also be moved between nodes and providers. The resource parameter is the id of the node under which the file/folder should be moved. It must agree with the path parameter, that is the path must identify a valid folder under the node identified by resource. Likewise, the provider parameter may be used to move the file/folder to another storage provider, but both the resource and path parameters must belong to a node and folder already extant on that provider. Both resource and provider default to the current node and providers.\nIf a moved/copied file is overwriting an existing file, a 200 OK response will be returned. Otherwise, a 201 Created will be returned.\n\n#### Delete (file, folders)\n\nTo delete a file or folder send a DELETE request to the delete link. Nothing will be returned in the response body.",
        "parameters": [
          {
            "in": "path",
            "type": "string",
            "required": true,
            "name": "file_id",
            "description": "The unique identifier of the file you wish to retrieve."
          }
        ],
        "tags": [
          "Files"
        ],
        "operationId": "files_detail",
        "x-response-schema": "File",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "title": "File",
                "properties": {
                  "id": {
                    "type": "string",
                    "readOnly": true,
                    "description": "The identifier of the file entity."
                  },
                  "type": {
                    "type": "string",
                    "readOnly": true,
                    "description": "The type identifier of the file entity (`files`)."
                  },
                  "attributes": {
                    "type": "object",
                    "title": "Attributes",
                    "readOnly": false,
                    "description": "The properties of the file entity.",
                    "properties": {
                      "extra": {
                        "type": "object",
                        "readOnly": true,
                        "description": "Extra information, contains `hashes` (`sha256`, `md5`) and `downloads` count."
                      },
                      "kind": {
                        "type": "string",
                        "readOnly": true,
                        "description": "The kind of files object it is (`file` or `folder`)."
                      },
                      "name": {
                        "type": "string",
                        "readOnly": false,
                        "description": "Name of the file"
                      },
                      "last_touched": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "description": "The time at which the file external metadata was last retrieved as an iso8601 formatted timestamp (does not apply to OSF Storage files)."
                      },
                      "materialized_path": {
                        "type": "string",
                        "readOnly": true,
                        "description": "Unix-style path to the file relative to the provider root."
                      },
                      "date_modified": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "description": "The time at which the file was last modified, as an iso8601 formatted timestamp."
                      },
                      "current_version": {
                        "type": "integer",
                        "readOnly": true,
                        "description": "Version number of the file."
                      },
                      "delete_allowed": {
                        "type": "boolean",
                        "readOnly": true,
                        "description": "Whether or not deletion of the file is allowed."
                      },
                      "date_created": {
                        "type": "string",
                        "format": "date-time",
                        "readOnly": true,
                        "description": "The time at which the file was created, as an iso8601 formatted timestamp."
                      },
                      "provider": {
                        "type": "string",
                        "readOnly": true,
                        "description": "The id of the file provider (e.g., `osfstorage`)"
                      },
                      "path": {
                        "type": "string",
                        "readOnly": true,
                        "description": "The unique identifier for this file entity for this project and storage provider."
                      },
                      "current_user_can_comment": {
                        "type": "boolean",
                        "readOnly": true,
                        "description": "Whether or not the current user is allowed to post comments."
                      },
                      "guid": {
                        "type": "string",
                        "readOnly": true,
                        "description": "Global unique identifier (GUID) for this file (if one has been assigned)."
                      },
                      "checkout": {
                        "type": "string",
                        "readOnly": true,
                        "description": "SOON TO BE DEPRECATED, see relationships checkout."
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "readOnly": true,
                        "description": "A list of strings that describe this file, as entered by project contributors."
                      },
                      "size": {
                        "type": "integer",
                        "readOnly": true,
                        "description": "Size of the file in bytes."
                      }
                    }
                  },
                  "relationships": {
                    "type": "object",
                    "title": "Relationships",
                    "readOnly": true,
                    "description": "Links to other entities or entity collections that have a relationship to the file entity.",
                    "properties": {
                      "node": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "A link to the node the file is on."
                      },
                      "checkout": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "A link to the user who checked out the file."
                      },
                      "comments": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "A link to the comments on the file."
                      },
                      "versions": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "A link to the versions of the file."
                      }
                    }
                  },
                  "links": {
                    "type": "object",
                    "title": "Links",
                    "readOnly": true,
                    "description": "Links to alternative representations of the file entity.",
                    "properties": {
                      "info": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "A link to the page to view a file's information or a folder's contents."
                      },
                      "self": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "A link to the detail page for the file."
                      },
                      "move": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "The Waterbutler API route for file moves."
                      },
                      "new_folder": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "The Waterbutler API route for creating a new subfolder (does not exist for files)."
                      },
                      "upload": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "The Waterbutler API route for file uploads."
                      },
                      "download": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "The Waterbutler API route for file downloads."
                      },
                      "delete": {
                        "type": "string",
                        "format": "URL",
                        "readOnly": true,
                        "description": "The Waterbutler API route for file deletions."
                      }
                    }
                  }
                }
              }
            },
            "examples": {
              "application/json": {
                "data": {
                  "relationships": {
                    "node": {
                      "links": {
                        "related": {
                          "href": "https://api.osf.io/v2/nodes/ezcuj/",
                          "meta": {}
                        }
                      }
                    },
                    "comments": {
                      "links": {
                        "related": {
                          "href": "https://api.osf.io/v2/nodes/ezcuj/comments/?filter%5Btarget%5D=sejcv",
                          "meta": {}
                        }
                      }
                    },
                    "versions": {
                      "links": {
                        "related": {
                          "href": "https://api.osf.io/v2/files/553e69248c5e4a219919ea54/versions/",
                          "meta": {}
                        }
                      }
                    }
                  },
                  "links": {
                    "info": "https://api.osf.io/v2/files/553e69248c5e4a219919ea54/",
                    "self": "https://api.osf.io/v2/files/553e69248c5e4a219919ea54/",
                    "move": "https://files.osf.io/v1/resources/ezcuj/providers/osfstorage/553e69248c5e4a219919ea54",
                    "upload": "https://files.osf.io/v1/resources/ezcuj/providers/osfstorage/553e69248c5e4a219919ea54",
                    "download": "https://files.osf.io/v1/resources/ezcuj/providers/osfstorage/553e69248c5e4a219919ea54",
                    "delete": "https://files.osf.io/v1/resources/ezcuj/providers/osfstorage/553e69248c5e4a219919ea54"
                  },
                  "attributes": {
                    "extra": {
                      "hashes": {
                        "sha256": "2450eb9ff3db92a1bff370368b0552b270bd4b5ca0745b773c37d2662f94df8e",
                        "md5": "44325d4f13b09f3769ede09d7c20a82c"
                      },
                      "downloads": 442
                    },
                    "kind": "file",
                    "name": "OSC2012.pdf",
                    "last_touched": "2015-09-18T01:11:16.328000",
                    "materialized_path": "/OSC2012.pdf",
                    "date_modified": "2014-10-17T19:24:12.264Z",
                    "current_version": 1,
                    "delete_allowed": true,
                    "date_created": "2014-10-17T19:24:12.264Z",
                    "provider": "osfstorage",
                    "path": "/553e69248c5e4a219919ea54",
                    "current_user_can_comment": true,
                    "guid": "sejcv",
                    "checkout": null,
                    "tags": [],
                    "size": 216945
                  },
                  "type": "files",
                  "id": "553e69248c5e4a219919ea54"
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update a file",
        "description": "Updates the specified file by setting the values of the parameters passed. Any parameters not provided will be left unchanged.\n#### Returns\nReturns JSON with a `data` key containing the new representation of the updated file, if the request is successful.\n\nIf the request is unsuccessful, JSON with an `errors` key containing information about the failure will be returned. Refer to the [list of error codes](#tag/Errors-and-Error-Codes) to understand why this request may have failed.",
        "parameters": [
          {
            "in": "path",
            "type": "string",
            "required": true,
            "name": "file_id",
            "description": "The unique identifier of the file you wish to update."
          },
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "example": {
                "data": {
                  "type": "files",
                  "id": "{file_id}",
                  "attributes": {
                    "name": "new file name.jpg"
                  }
                }
              }
            }
          }
        ],
        "tags": [
          "Files"
        ],
        "operationId": "files_patch",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  }
}
